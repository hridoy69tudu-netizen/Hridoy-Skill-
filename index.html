<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Swap4Cash</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
        import { getFirestore, doc, onSnapshot, updateDoc, collection, query, where, getDocs, setDoc, addDoc, deleteDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
        
        const firebaseConfig = {
            apiKey: "AIzaSyCoKBX6p2zsmWq47NXQvgArVXjB4Xu_63g",
            authDomain: "hridoy-8d6c1.firebaseapp.com",
            databaseURL: "https://hridoy-8d6c1-default-rtdb.firebaseio.com",
            projectId: "hridoy-8d6c1",
            storageBucket: "hridoy-8d6c1.firebasestorage.app",
            messagingSenderId: "953393602911",
            appId: "1:953393602911:web:6685a090899597a9d916ea",
            measurementId: "G-KP6J8E6W80"
        };
        
        const ADMIN_UID = "QJSd0hyYcNZptGEnfpxaqqkESNH2"; 

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);

        window.showAlert = function(message) {
            const modal = document.getElementById('custom-alert-modal');
            const msgElement = document.getElementById('custom-alert-message');
            msgElement.innerText = message;
            modal.style.display = 'flex';
        }
        window.closeAlert = function() {
            const modal = document.getElementById('custom-alert-modal');
            modal.style.display = 'none';
        }
        
        onAuthStateChanged(auth, user => {
            if (user && user.uid === ADMIN_UID) {
                console.log("Admin logged in successfully.");
                document.getElementById('login-section').style.display = 'none';
                document.getElementById('main-content-container').style.display = 'flex';
            } else {
                console.log("Not an admin or not logged in.");
                document.getElementById('login-section').style.display = 'flex';
                document.getElementById('main-content-container').style.display = 'none';
            }
        });

        window.handleLogin = async function() {
            const email = document.getElementById('admin-email').value;
            const password = document.getElementById('admin-password').value;
            const errorMessage = document.getElementById('login-error-message');
            
            try {
                const userCredential = await signInWithEmailAndPassword(auth, email, password);
                const user = userCredential.user;
                if (user.uid === ADMIN_UID) {
                    errorMessage.textContent = '';
                } else {
                    await signOut(auth);
                    errorMessage.textContent = 'Invalid credentials or not an admin account.';
                }
            } catch (error) {
                errorMessage.textContent = 'Invalid credentials or an error occurred.';
                console.error("Login failed:", error);
            }
        }

        window.handleLogout = async function() {
            await signOut(auth);
            console.log("Admin logged out.");
            document.getElementById('main-content-container').style.display = 'none';
            document.getElementById('login-section').style.display = 'flex';
        }

        document.addEventListener('DOMContentLoaded', () => {
            const tabs = document.querySelectorAll('.tab-item');
            const sections = document.querySelectorAll('.content-section');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    const target = tab.getAttribute('data-tab');
                    sections.forEach(s => {
                        s.classList.remove('active');
                        if (s.id === target) {
                            s.classList.add('active');
                        }
                    });
                });
            });

            // --- Dashboard and Withdrawal Requests ---
            const requestsTableBody = document.getElementById('withdrawal-requests-table');
            const totalUsersValue = document.getElementById('total-users');
            const pendingRequestsValue = document.getElementById('pending-requests');
            
            onSnapshot(collection(db, "users"), (snapshot) => {
                totalUsersValue.innerText = snapshot.size;
            });

            onSnapshot(collection(db, "withdrawal_requests"), (querySnapshot) => {
                const requests = [];
                let pendingCount = 0;
                querySnapshot.forEach((doc) => {
                    const data = doc.data();
                    requests.push({ id: doc.id, ...data });
                    if (data.status === 'pending') {
                        pendingCount++;
                    }
                });
                
                requests.sort((a, b) => (a.status === 'pending' ? -1 : 1));
                pendingRequestsValue.innerText = pendingCount;
                renderWithdrawalRequests(requests);
            });

            function renderWithdrawalRequests(requests) {
                requestsTableBody.innerHTML = '';
                if (requests.length === 0) {
                    requestsTableBody.innerHTML = '<tr><td colspan="6" style="text-align: center;">No withdrawal requests found.</td></tr>';
                    return;
                }
                requests.forEach(request => {
                    const row = document.createElement('tr');
                    const statusClass = request.status === 'pending' ? 'status-pending' : 'status-approved';
                    const actionButtons = request.status === 'pending' ?
                        `<button class="action-button approve" data-id="${request.id}">Approve</button> <button class="action-button reject" data-id="${request.id}">Reject</button>` :
                        '-';
                    row.innerHTML = `
                        <td>${request.userId ? request.userId.substring(0, 8) + '...' : 'N/A'}</td>
                        <td>$${request.amount.toFixed(2)}</td>
                        <td>${request.method}</td>
                        <td>${request.account}</td>
                        <td><span class="status-badge ${statusClass}">${request.status}</span></td>
                        <td>${actionButtons}</td>
                    `;
                    requestsTableBody.appendChild(row);
                });
            }
            
            requestsTableBody.addEventListener('click', async (e) => {
                if (!e.target.classList.contains('action-button')) return;
                const docId = e.target.getAttribute('data-id');
                const newStatus = e.target.classList.contains('approve') ? 'approved' : 'rejected';
                
                try {
                    await updateDoc(doc(db, "withdrawal_requests", docId), { status: newStatus });
                    showAlert(`Request ${newStatus} successfully!`);
                } catch (error) {
                    console.error("Error updating document:", error);
                    showAlert("Error updating request. Check console for details.");
                }
            });

            // --- User Management ---
            const usersTableBody = document.getElementById('users-table-body');
            onSnapshot(collection(db, "users"), (querySnapshot) => {
                const users = [];
                querySnapshot.forEach((doc) => {
                    users.push({ id: doc.id, ...doc.data() });
                });
                renderUsersTable(users);
            });

            function renderUsersTable(users) {
                usersTableBody.innerHTML = '';
                 if (users.length === 0) {
                    usersTableBody.innerHTML = '<tr><td colspan="5" style="text-align: center;">No users found.</td></tr>';
                    return;
                }
                users.forEach(user => {
                    const row = document.createElement('tr');
                    const status = user.status || 'active'; 
                    const buttonText = status === 'blocked' ? 'Unblock' : 'Block';
                    const buttonClass = status === 'blocked' ? 'unblock' : 'block';
                    row.innerHTML = `
                        <td>${user.id ? user.id.substring(0, 8) + '...' : 'N/A'}</td>
                        <td>$${user.balance ? user.balance.toFixed(2) : '0.00'}</td>
                        <td>${user.adsWatched || 0}</td>
                        <td><span class="status-badge status-${status}">${status}</td>
                        <td><button class="action-button ${buttonClass}" data-id="${user.id}">${buttonText}</button></td>
                    `;
                    usersTableBody.appendChild(row);
                });
            }

            usersTableBody.addEventListener('click', async (e) => {
                if (!e.target.classList.contains('action-button')) return;
                const userId = e.target.getAttribute('data-id');
                const newStatus = e.target.classList.contains('block') ? 'blocked' : 'active';

                try {
                    await updateDoc(doc(db, "users", userId), { status: newStatus });
                    showAlert(`User status updated to ${newStatus}!`);
                } catch (error) {
                    console.error("Error updating user status:", error);
                    showAlert("Error updating user status. Check console.");
                }
            });

            // --- Task Management ---
            const tasksTableBody = document.getElementById('tasks-table-body');
            
            onSnapshot(collection(db, "tasks"), (querySnapshot) => {
                const tasks = [];
                querySnapshot.forEach((doc) => {
                    tasks.push({ id: doc.id, ...doc.data() });
                });
                renderTasksTable(tasks);
            });

            function renderTasksTable(tasks) {
                tasksTableBody.innerHTML = '';
                if (tasks.length === 0) {
                    tasksTableBody.innerHTML = '<tr><td colspan="4" style="text-align: center;">No tasks found.</td></tr>';
                    return;
                }
                tasks.forEach(task => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${task.title}</td>
                        <td>${task.description.substring(0, 50)}...</td>
                        <td>$${task.earning.toFixed(2)}</td>
                        <td>
                            <button class="action-button delete-task" data-id="${task.id}">Delete</button>
                        </td>
                    `;
                    tasksTableBody.appendChild(row);
                });
            }

            document.getElementById('add-task-btn').addEventListener('click', async () => {
                const title = document.getElementById('task-title').value;
                const description = document.getElementById('task-description').value;
                const earning = parseFloat(document.getElementById('task-earning').value);

                if (!title || !description || isNaN(earning)) {
                    showAlert("Please fill out all task fields with valid data.");
                    return;
                }

                try {
                    await addDoc(collection(db, "tasks"), { title, description, earning });
                    showAlert("Task added successfully!");
                    document.getElementById('task-title').value = '';
                    document.getElementById('task-description').value = '';
                    document.getElementById('task-earning').value = '';
                } catch (error) {
                    console.error("Error adding task:", error);
                    showAlert("Error adding task. Check console.");
                }
            });

            tasksTableBody.addEventListener('click', async (e) => {
                if (!e.target.classList.contains('delete-task')) return;
                const taskId = e.target.getAttribute('data-id');

                try {
                    await deleteDoc(doc(db, "tasks", taskId));
                    showAlert("Task deleted successfully!");
                } catch (error) {
                    console.error("Error deleting task:", error);
                    showAlert("Error deleting task. Check console.");
                }
            });

            // --- Task Navigation Management ---
            const navForm = document.getElementById('nav-links-form');
            const navLinksContainer = document.getElementById('nav-links-container');
            const navDocRef = doc(db, "settings", "task_navigation");

            onSnapshot(navDocRef, (docSnap) => {
                if (docSnap.exists()) {
                    const data = docSnap.data();
                    renderNavLinks(data.links || []);
                } else {
                    renderNavLinks([]);
                }
            });

            function renderNavLinks(links) {
                navLinksContainer.innerHTML = '';
                if (links.length === 0) {
                    navLinksContainer.innerHTML = '<p style="text-align: center; color: #a0aec0;">No navigation links found.</p>';
                    return;
                }
                links.forEach((link, index) => {
                    const linkItem = document.createElement('div');
                    linkItem.classList.add('nav-link-item');
                    linkItem.innerHTML = `
                        <div class="link-details">
                            <span class="link-label">Title:</span> ${link.title}
                            <br>
                            <span class="link-label">URL:</span> ${link.url}
                        </div>
                        <div class="link-actions">
                            <button class="action-button edit-nav" data-index="${index}">Edit</button>
                            <button class="action-button delete-nav" data-index="${index}">Delete</button>
                        </div>
                    `;
                    navLinksContainer.appendChild(linkItem);
                });
            }

            navForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const title = document.getElementById('nav-title').value;
                const url = document.getElementById('nav-url').value;
                const navIndex = navForm.dataset.editIndex;

                if (!title || !url) {
                    showAlert("Please fill out both fields.");
                    return;
                }
                
                try {
                    const docSnap = await getDoc(navDocRef);
                    const currentLinks = docSnap.exists() ? docSnap.data().links || [] : [];
                    
                    if (navIndex !== undefined) {
                        // Edit existing link
                        currentLinks[navIndex] = { title, url };
                        navForm.removeAttribute('data-edit-index');
                        document.getElementById('add-nav-btn').innerText = "Add Link";
                        showAlert("Link updated successfully!");
                    } else {
                        // Add new link
                        currentLinks.push({ title, url });
                        showAlert("Link added successfully!");
                    }

                    await setDoc(navDocRef, { links: currentLinks });
                    navForm.reset();
                } catch (error) {
                    console.error("Error managing navigation links:", error);
                    showAlert("Error managing links. Check console.");
                }
            });

            navLinksContainer.addEventListener('click', async (e) => {
                const index = e.target.dataset.index;
                if (e.target.classList.contains('delete-nav')) {
                    if (confirm("Are you sure you want to delete this link?")) {
                        try {
                            const docSnap = await getDoc(navDocRef);
                            const currentLinks = docSnap.exists() ? docSnap.data().links : [];
                            currentLinks.splice(index, 1);
                            await setDoc(navDocRef, { links: currentLinks });
                            showAlert("Link deleted successfully!");
                        } catch (error) {
                            console.error("Error deleting link:", error);
                            showAlert("Error deleting link. Check console.");
                        }
                    }
                } else if (e.target.classList.contains('edit-nav')) {
                    const docSnap = await getDoc(navDocRef);
                    const link = docSnap.data().links[index];
                    document.getElementById('nav-title').value = link.title;
                    document.getElementById('nav-url').value = link.url;
                    navForm.dataset.editIndex = index;
                    document.getElementById('add-nav-btn').innerText = "Update Link";
                }
            });

            // --- Settings ---
            const moniTagInput = document.getElementById('moniTagZoneId');
            const gigapubInput = document.getElementById('gigapubZoneId');
            const adEarningRateInput = document.getElementById('adEarningRate');
            const settingsDocRef = doc(db, "settings", "app_settings");

            onSnapshot(settingsDocRef, (docSnap) => {
                if (docSnap.exists()) {
                    const data = docSnap.data();
                    moniTagInput.value = data.moniTagZoneId || '';
                    gigapubInput.value = data.gigapubZoneId || '';
                    adEarningRateInput.value = data.adEarningRate || '0.00';
                }
            });

            document.getElementById('save-settings-btn').addEventListener('click', async () => {
                try {
                    const newSettings = {
                        moniTagZoneId: moniTagInput.value,
                        gigapubZoneId: gigapubInput.value,
                        adEarningRate: parseFloat(adEarningRateInput.value)
                    };
                    await setDoc(settingsDocRef, newSettings);
                    showAlert("Settings saved successfully!");
                } catch (error) {
                    console.error("Error saving settings:", error);
                    showAlert("Error saving settings. Please check the format.");
                }
            });
        });
    </script>
    <style>
        body {
            background-color: #1a202c;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #e0e0e0;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        .header {
            background-color: #2d3748;
            padding: 20px;
            text-align: center;
            border-bottom: 2px solid #4CAF50;
            position: relative;
        }
        .header h1 {
            margin: 0;
            font-size: 1.8em;
            color: #e0e0e0;
        }
        .logout-btn {
            background-color: #e65100;
            color: white;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            border: none;
            font-size: 0.9em;
            position: absolute;
            top: 50%;
            right: 20px;
            transform: translateY(-50%);
        }
        .tabs {
            display: flex;
            justify-content: center;
            background-color: #1a202c;
            border-bottom: 1px solid #4a5568;
            flex-wrap: wrap;
        }
        .tab-item {
            padding: 15px 15px;
            cursor: pointer;
            color: #a0aec0;
            font-weight: bold;
            transition: color 0.3s ease;
            white-space: nowrap;
        }
        .tab-item:hover, .tab-item.active {
            color: #4CAF50;
            border-bottom: 2px solid #4CAF50;
        }
        .main-container {
            padding: 20px;
            flex-grow: 1;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .dashboard-card {
            background-color: #2d3748;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        .dashboard-card h2 {
            font-size: 1.5em;
            margin-top: 0;
            border-bottom: 1px solid #4a5568;
            padding-bottom: 10px;
            margin-bottom: 15px;
            color: #4CAF50;
        }
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            text-align: center;
        }
        .info-item {
            background-color: #1a202c;
            padding: 15px;
            border-radius: 8px;
        }
        .info-item .value {
            font-size: 1.8em;
            font-weight: bold;
            color: #2196F3;
        }
        .info-item .label {
            font-size: 0.9em;
            color: #a0aec0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            table-layout: fixed;
        }
        th, td {
            padding: 12px 10px;
            text-align: left;
            border-bottom: 1px solid #4a5568;
            word-wrap: break-word;
        }
        th {
            background-color: #4a5568;
            color: #e2e8f0;
            font-weight: normal;
        }
        td {
            color: #cbd5e0;
            font-size: 0.9em;
        }
        .action-button {
            padding: 8px 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.8em;
            font-weight: bold;
            transition: background-color 0.3s ease;
            margin: 2px;
            white-space: nowrap;
        }
        .approve { background-color: #4CAF50; color: white; }
        .approve:hover { background-color: #45a049; }
        .reject { background-color: #e65100; color: white; }
        .reject:hover { background-color: #bf360c; }
        .block { background-color: #ffc107; color: #333; }
        .block:hover { background-color: #e0a800; }
        .unblock { background-color: #28a745; color: white; }
        .unblock:hover { background-color: #218838; }
        .delete-task { background-color: #dc3545; color: white; }
        .delete-task:hover { background-color: #c82333; }
        .status-badge {
            padding: 5px 10px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: bold;
            color: white;
            white-space: nowrap;
        }
        .status-pending { background-color: #e65100; }
        .status-approved, .status-active { background-color: #4CAF50; }
        .status-blocked { background-color: #ffc107; }

        .settings-form, .add-task-form, .nav-form {
            background-color: #1a202c;
            padding: 20px;
            border-radius: 10px;
        }
        .settings-form label, .add-task-form label, .nav-form label {
            display: block;
            margin-top: 15px;
            margin-bottom: 5px;
        }
        .settings-form input, .settings-form textarea,
        .add-task-form input, .add-task-form textarea,
        .nav-form input {
            width: calc(100% - 22px);
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #4a5568;
            background-color: #1a202c;
            color: #e0e0e0;
            font-size: 1em;
        }
        .settings-form textarea, .add-task-form textarea {
            height: 100px;
            resize: vertical;
        }
        .settings-form button, .add-task-form button, .nav-form button {
            width: 100%;
            padding: 12px;
            margin-top: 20px;
            background-color: #2196F3;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
        }

        #login-section {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            flex-grow: 1;
        }
        .login-card {
            background-color: #2d3748;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            text-align: center;
            max-width: 400px;
            width: 90%;
        }
        .login-card h2 {
            margin-bottom: 20px;
            color: #e0e0e0;
        }
        .login-card input {
            width: calc(100% - 24px);
            padding: 12px;
            margin-bottom: 15px;
            border-radius: 5px;
            border: 1px solid #4a5568;
            background-color: #1a202c;
            color: #e0e0e0;
            font-size: 1em;
        }
        .login-card button {
            width: 100%;
            padding: 12px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
        }
        #login-error-message {
            color: #ff4d4d;
            margin-top: 10px;
        }
        #main-content-container {
            display: none;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        /* Custom Alert Modal */
        #custom-alert-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .custom-alert-content {
            background-color: #2d3748;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            max-width: 350px;
            width: 90%;
        }
        .custom-alert-content h3 {
            margin-top: 0;
            color: #e0e0e0;
        }
        .custom-alert-content p {
            margin: 15px 0;
            color: #cbd5e0;
        }
        .custom-alert-content button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
        }

        .nav-links-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 15px;
        }
        .nav-link-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background-color: #1a202c;
            border-radius: 8px;
        }
        .link-details {
            flex-grow: 1;
        }
        .link-label {
            font-weight: bold;
            color: #4CAF50;
        }
        .link-actions button {
            margin-left: 5px;
        }
    </style>
</head>
<body>
    <div id="login-section">
        <div class="login-card">
            <h2>Admin Login</h2>
            <input type="email" id="admin-email" placeholder="Email" required>
            <input type="password" id="admin-password" placeholder="Password" required>
            <button onclick="handleLogin()">Login</button>
            <div id="login-error-message"></div>
        </div>
    </div>

    <div id="main-content-container">
        <div class="header">
            <h1>Admin Panel</h1>
            <button class="logout-btn" onclick="handleLogout()">Logout</button>
        </div>

        <div class="tabs">
            <div class="tab-item active" data-tab="dashboard-section">Dashboard</div>
            <div class="tab-item" data-tab="users-section">Users</div>
            <div class="tab-item" data-tab="tasks-section">Tasks</div>
            <div class="tab-item" data-tab="nav-section">Task Navigation</div>
            <div class="tab-item" data-tab="settings-section">Settings</div>
        </div>

        <div class="main-container">
            <div id="dashboard-section" class="content-section active">
                <div class="dashboard-card">
                    <h2>Dashboard Overview</h2>
                    <div class="info-grid">
                        <div class="info-item">
                            <div class="value" id="total-users">0</div>
                            <div class="label">Total Users</div>
                        </div>
                        <div class="info-item">
                            <div class="value">0</div>
                            <div class="label">Daily Active Users</div>
                        </div>
                        <div class="info-item">
                            <div class="value" id="pending-requests">0</div>
                            <div class="label">Pending Withdrawals</div>
                        </div>
                        <div class="info-item">
                            <div class="value">$0.00</div>
                            <div class="label">Total Paid Out</div>
                        </div>
                    </div>
                </div>

                <div class="dashboard-card">
                    <h2>Withdrawal Requests</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>User ID</th>
                                <th>Amount</th>
                                <th>Method</th>
                                <th>Account No.</th>
                                <th>Status</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="withdrawal-requests-table">
                            <tr><td colspan="6" style="text-align: center;">Loading requests...</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="users-section" class="content-section">
                <div class="dashboard-card">
                    <h2>User Management</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>User ID</th>
                                <th>Balance</th>
                                <th>Ads Watched</th>
                                <th>Status</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="users-table-body">
                            <tr><td colspan="5" style="text-align: center;">Loading users...</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <div id="tasks-section" class="content-section">
                <div class="dashboard-card">
                    <h2>Create New Task</h2>
                    <form class="add-task-form" onsubmit="return false;">
                        <label for="task-title">Task Title:</label>
                        <input type="text" id="task-title" placeholder="e.g., Watch YouTube Video" required>
                        
                        <label for="task-description">Task Description:</label>
                        <textarea id="task-description" placeholder="e.g., Watch the video and like it."></textarea>
                        
                        <label for="task-earning">Earning Amount ($):</label>
                        <input type="number" id="task-earning" placeholder="e.g., 0.50" step="0.01" required>
                        
                        <button id="add-task-btn">Add Task</button>
                    </form>
                </div>
                <div class="dashboard-card">
                    <h2>Existing Tasks</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>Title</th>
                                <th>Description</th>
                                <th>Earning</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="tasks-table-body">
                            <tr><td colspan="4" style="text-align: center;">Loading tasks...</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="nav-section" class="content-section">
                <div class="dashboard-card">
                    <h2>Task Navigation Links</h2>
                    <form id="nav-links-form" class="nav-form" onsubmit="return false;">
                        <label for="nav-title">Button Title:</label>
                        <input type="text" id="nav-title" placeholder="e.g., Visit YouTube" required>
                        
                        <label for="nav-url">Destination URL:</label>
                        <input type="url" id="nav-url" placeholder="e.g., https://youtube.com" required>
                        
                        <button id="add-nav-btn">Add Link</button>
                    </form>
                </div>
                <div class="dashboard-card">
                    <h2>Existing Navigation Links</h2>
                    <div class="nav-links-container" id="nav-links-container">
                        <p style="text-align: center; color: #a0aec0;">Loading links...</p>
                    </div>
                </div>
            </div>

            <div id="settings-section" class="content-section">
                <div class="dashboard-card">
                    <h2>App Settings</h2>
                    <form class="settings-form" onsubmit="return false;">
                        <label for="moniTagZoneId">MoniTag Zone ID:</label>
                        <input type="text" id="moniTagZoneId" placeholder="Enter MoniTag Zone ID">
                        
                        <label for="gigapubZoneId">Gigapub Zone ID:</label>
                        <input type="text" id="gigapubZoneId" placeholder="Enter Gigapub Zone ID">
                        
                        <label for="adEarningRate">Ad Earning Rate ($):</label>
                        <input type="number" id="adEarningRate" step="0.01" placeholder="e.g., 0.15">
                        
                        <button id="save-settings-btn">Save Settings</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <div id="custom-alert-modal">
        <div class="custom-alert-content">
            <h3>Alert</h3>
            <p id="custom-alert-message"></p>
            <button onclick="closeAlert()">OK</button>
        </div>
    </div>
</body>
</html>
